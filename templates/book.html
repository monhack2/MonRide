{% extends 'base.html' %}

{% block sheets %}
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <script src="{{ url_for('static', filename='js/moment-with-locales.js') }}"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha14/js/tempusdominus-bootstrap-4.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.0-alpha14/css/tempusdominus-bootstrap-4.min.css" />
{% endblock %}

{% block title %}Book Rides{% endblock %}

{% block content %}
    <header class="masthead main-bg-color">
    <section>
        <div class="container">
            <div class="section-heading text-center">
            <h2>View Rides</h2>
            <p class="tagline">View available rides and book in</p>
            <hr>
          </div>
        </div>
    </section>
    </header>
    <section class="container">
    <div class="row text-center ">
        <div class="col-lg">
            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" id="categoryContent"
                      type="button" data-toggle="dropdown"
                      aria-haspopup="true" aria-expanded="false">Looking For</button>
              <div class="dropdown-menu" id="category">
                  <a class="dropdown-item" href="#!">Drivers</a>
                  {% if user.driver %}
                  <a class="dropdown-item" href="#!">Passengers</a>
                  {% endif %}
              </div>
            </div>
        </div>
        <div class="col-lg">
            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" id="campusContent"
                      type="button" data-toggle="dropdown"
                      aria-haspopup="true" aria-expanded="false">Campus</button>
              <div class="dropdown-menu" id="campus">
                  <a class="dropdown-item" href="#!">Clayton</a>
                  <a class="dropdown-item" href="#!">Caulfield</a>
                  <a class="dropdown-item" href="#!">Peninsula</a>
              </div>
            </div>
            </div>
    <script>
        $('#category > a').click(function(e){
            $('#categoryContent').text(this.innerHTML);
            filter();
        });
        $('#campus > a').click(function(e){
            $('#campusContent').text(this.innerHTML);
            filter();
        });
    </script>
        <div class="col-lg">
            <div class="form-group">
                <div class="input-group date" id="datetimepicker1" data-target-input="nearest">
                    <input type="text" id="datetimeContent" class="form-control datetimepicker-input" data-target="#datetimepicker1" value=""/>
                    <div class="input-group-append" data-target="#datetimepicker1" data-toggle="datetimepicker">
                        <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                $(function () {
                    $('#datetimepicker1').datetimepicker({
                        icons: {
                            time: 'fa fa-clock'
                        },
                        locale: 'en-au'
                    });
                });
            </script>
        </div>
    {% if user.driver %}
        <div class="col-lg">
            <button type="button" class="btn btn-secondary">Create Ride</button>
            </div>
            </div>
    {% endif %}
    </div>
    </section>
    <hr>

    <section>
    <div class="container" id="available">
       <div class="card ride">
          <h5 class="card-header">Driver 1 - 4.8 star rating</h5>
          <div class="card-body">
            <h5 class="card-title">68% Match</h5>
            <p class="card-text">3km away</p>
            <a href="#" class="btn btn-primary">Book Ride</a>
          </div>
        </div>
    </div>
    </section>
    <br>
    <script>
    function filter(){
        campus = document.getElementById("campusContent").innerHTML;
        if(campus === "Campus"){
            campus = "";
        }
        category = document.getElementById("categoryContent").innerHTML;
        if(category === "Looking For"){
            category = "";
        }
        dateTime = document.getElementById("datetimeContent").value;
        if(dateTime !== ""){
            date = dateTime.split(" ")[0];
            time = dateTime.split(" ")[1];
        }
        console.log(date)
    }

    function display(campus, category, date, time){
        array.forEach(function (item, index){
            
        })
    }
    </script>
{% endblock %}
